<html>
  <head>
    <meta name="navigation" content="Running" />
    <title>Running an Ensembl Website</title>
  </head>
<body> 
  <h2>Running an Ensembl Website</h2>

<p>This section outlines how to go about the day-to-day running of an Ensembl website.</p>

<h3 class="boxed">Starting the Ensembl website</h3>
<ol>
<li>
<p>Check that MySQL is running. If not, you can start it:</p>
<kbd>/data/mysql/bin/mysqld_safe --user=mysqldba &amp;</kbd>
<p>You should change the /data/mysql and mysqldba in the command above to the install path and user
you chose when you installed MySQL.</p>
</li>
<li>
<p>Start the web server:</p>
<kbd>/usr/local/apache/bin/httpd -d /usr/local/ensembl</kbd>
<p>where /usr/local/ensembl is your server-root.</p>
<p>Note that it is important that you start MySQL before you start the website. The startup scripts for the
site rely on the databases being available, as they compile lists of available data at this point.
You should now be able to point a web-browser at your server and see the Ensembl homepage.</p>
<p>
  If you have already started the site - and then reconfigured it you will
  need to delete the config.packed file (and if you change mart configuration
  martconf.packed and martRegistry.xml files) in the conf directory before
  restarting.
</p>
</li>
</ol>
<h3 class="boxed">Stopping the Ensembl website</h3>

<ol>
<li><p>To stop the web server:</p>
<kbd>kill `cat /usr/local/ensembl/logs/HOSTNAME.httpd.pid`</kbd>
<p>where /usr/local/ensembl is your server-root, and HOSTNAME is whatever the hostname is of the
machine you are running the server on. Note the punctuation marks are backticks and not singlequotes.</p>
</li>
<li><p>To stop MySQL:</p>
<kbd>/data/mysql/bin/mysqladmin shutdown</kbd>
</li></ol>

<h3 class="boxed">Troubleshooting</h3>
<p>The best way of troubleshooting is to watch the Apache error_log and look for exactly what the problem
is. You can do this with the command:</p>

<kbd>$ tail -f logs/error_log</kbd>

<p>from the server-root. It is often obvious what the error is, especially if it is due to file permissions or a
missing Perl module.</p>

<p>If you have email errors turned on, then you will be receiving some additional information via that route.
Please email us at helpdesk@ensembl.org if you need assistance. Any details of the error, relevant
sections from the error_log, etc, will be of help in tracking down your problem.</p>
</body>
</html>
  
