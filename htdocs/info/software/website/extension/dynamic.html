<html>
  <head>
    <meta name="navigation" content="Template" />
    <title>Ensembl Web Template</title>
  </head>
<body>
                                                                                
<h2>Dynamic Content</h2>

<p>For most users, it will be sufficient to use plugins in <kbd>public-plugins/mirror</kbd> to modify existing pages.  This has the advantage of leaving the Ensembl code in <kbd>modules</kbd> intact.  Currently the Object/Factory/Configuration are pluggable but most other scripts are not.  Hopefully <kbd>EnsEMBL/Web/UserConfig.pm</kbd> will be pluggable in late 2006.</p> 


<h3>Coding a new Dynamic Page</h3>

<p>As in the previous version of Ensembl, standard dynamic pages are created 
via a 'view' script in /perl/default, e.g. geneview. However the modules used by this script have been reorganised.</p>

<p>To create a totally new dynamic page (or to replace an old-style dynamic page with the new code), you need the following 5 Perl files:</p>

<ul>
<li>view script</li>
<li>Factory::[datatype] module</li>
<li>Object::[datatype] module</li>
<li>Configuration::[datatype] module, containing a subroutine with the same name as the view script</li>
<li>Component::[datatype] module</li>
</ul>

<p>The view script will need to be created for each view, but the other modules may already exist. If so, you will need to add your own subroutine to the configuration module and probably make some minor changes to the component module.</p>

<dl>
<dt>View Script</dt>
<dd>In the case of many views, this can be copied from a similar 'new view' and tweaked to reflect the script name and data object type of your view.</dd>
<dt>Factory module</dt>
<dd>This will use a lot of the same code as the old DataFactory::[datatype]Factory module, but will need some tweaking - compare an existing Factory child module with its DataFactory version for the main changes.</dd>
<dt>Object module</dt>
<dd>This will use a lot of the same code as the old Data::[datatype] module, especially the subroutines. The first few lines, e.g. 'use' statements, should of course be adapted from a similar Object child module.</dd>
<dt>Configuration module</dt>
<dd>This module doesn't have an equivalent in the old code, but its structure is very straightforward and should be easy to copy from a similar config module.</dd>
<dt>Component module</dt>
<dd>This will use a lot of the same output code as the old Renderer::[datatype]::HTML module, but will probably need a fair amount of tweaking, of both the Perl and HTML, to match the new object model and XHTML style.</dd>
</dl>


</body>
</html>

