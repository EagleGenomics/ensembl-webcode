<html>
  <head>
    <meta name="navigation" content="Extension" />
    <title>Extending dynamic content</title>
  </head>
<body>

<h2>Customising the species list on your home page</h2>

<p>If you are installing a subset of the standard Ensembl species, you can leave the plugins as-is
and your home page will be generated automatically.</p>

<p>If, however, you are adding species from taxa not found in Ensembl, e.g. plants or bacteria,
you will need to create the appropriate files in your site plugin.</p>

<p>For a site with few species, it is usually sufficient to provide a list of static links, or
a simple list can be auto-generated using the information stored in SpeciesDefs. See
<code>EnsEMBL::Web::Document::HTML::SpeciesList</code> for sample code.</p>

<h3>Organising your species</h3>

<p>If your site has a lot of species, you may wish to group these in a similar way to Ensembl.
To do this, you need taxonomy data in the 'meta' table of your core database. The standard format 
is for the taxa to be listed in ascending order when ordered by meta_id, e.g.</p>
<pre>
mysql&gt; select * from meta where meta_key = 'species.classification' order by meta_id;
+---------+------------------------+------------------+
| meta_id | meta_key               | meta_value       |
+---------+------------------------+------------------+
|    1039 | species.classification | sapiens          |
|    1040 | species.classification | Homo             |
|    1041 | species.classification | Hominidae        |
|    1042 | species.classification | Catarrhini       |
|    1043 | species.classification | Haplorrhini      |
|    1044 | species.classification | Primates         |
|    1045 | species.classification | Euarchontoglires |
|    1046 | species.classification | Eutheria         |
|    1047 | species.classification | Mammalia         |
|    1048 | species.classification | Euteleostomi     |
|    1049 | species.classification | Vertebrata       |
|    1050 | species.classification | Craniata         |
|    1051 | species.classification | Chordata         |
|    1052 | species.classification | Metazoa          |
|    1053 | species.classification | Eukaryota        |
+---------+------------------------+------------------+
</pre>

<p>When provided with a list of taxa, SpeciesDefs will compare the two in order to classify
your species into groups.</p>

<p>The next step is therefore to identify the taxa that correspond to the groups you want.
Ideally you want about 2-7 species in each group (the normal range for human short-term
memory to handle). In Ensembl, we have many different mammal species, some other vertebrates, 
and a few non-vertebrates. We have thus divided our species as follows:</p>
<ul>
<li>Primates</li>
<li>Other Euarchontoglires (rodents and so forth)</li>
<li>Laurasiatheria</li>
<li>Afrotheria</li>
<li>Xenarthra</li>
<li>Marsupials and Monotremes*</li>
<li>Birds</li>
<li>Reptiles and Amphibians*</li>
<li>Fish</li>
<li>Other chordates</li>
<li>Other eukaryotes</li>
</ul>

<p class="small">* Although these are distinct groups, they have few representative genomes
at present, so we lump them together</p>

<p>Once you have decided how to group your species, you need to sketch a taxonomic tree that 
includes the identifying nodes. In the diagram below, the highlighted taxa are the ones that 
will be needed to separate species into the required groups.</p>

<p class="center"><img src="/img/info/taxonomy.gif" alt="tree diagram" /></p>

<p>Finially you will need to set up your [plugin]/conf/ini-files/DEFAULTS.ini to contain 
the groups you wish to select and the corresponding labels. The order of the groups
must follow your taxonomic tree from bottom to top:</p>

<pre>
Primates          = Primates
Euarchontoglires  = Rodents etc.
Laurasiatheria    = Laurasiatheria
Afrotheria        = Afrotheria
Xenarthra         = Xenarthra
Metatheria        = Marsupials &amp;amp; Monotremes
Monotremata       = Marsupials &amp;amp; Monotremes
Aves              = Birds
Sauropsida        = Reptiles &amp;amp; Amphibians
Amphibia          = Reptiles &amp;amp; Amphibians
Euteleostomi      = Fish
Chordata          = Other chordates
Eukaryota         = Other eukaryotes
</pre>

<p>Note that by setting the same group label for different taxa, we can combine taxonomic groups
that are in different branches of the taxonomic tree</p>



</body>
</html>
